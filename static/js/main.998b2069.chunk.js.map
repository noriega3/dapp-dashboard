{"version":3,"sources":["App.js","registerServiceWorker.js","index.js"],"names":["CONTRACT_ADDR","ethAPI","etherscan_api_default","a","init","web3Api","web3_src_default","givenProvider","App_getContractBalance","instance","accountId","callback","utils","isAddress","methods","balanceOf","call","from","then","res","catch","err","Error","App_App","App","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","state","hasError","error","setState","errMessage","react_default","createElement","className","panel_default","react_toastify_lib","App_Dashboard","react","Dashboard","_this2","vaultAddr","availableWallets","walletAddr","undefined","walletBalance","vaultBalance","isInit","logs","updating","balanceChange","handleWalletChange","bind","_assertThisInitialized","performVaultDeposit","performVaultWithdraw","performSearch","performGetLogs","refreshAccountsList","refreshWalletBalance","refreshVaultBalance","contractInstance","_this3","contractAddr","abiArr","contract","getabi","_ref2","result","JSON","parse","eth","Contract","console","App_getContractInstance","toString","prevProps","prevState","lodash_default","isEqual","walletId","rawAmount","_this4","amount","wei","toWei","withdraw","send","on","confirmationNumber","receipt","App_setContractWithdraw","_this5","deposit","value","App_setContractDeposit","_this6","getAccounts","App_getAccountAddr","accounts","accts","length","head","_this7","account","balance","_ref","App_getWalletBalance","_this8","_this$state","address","_this9","getPastEvents","fromBlock","topics","sortBy","reverse","App_getContractLogs","concat","appbar_default","container_default","row_default","col_default","xl","xl-offset","lg","App_WalletOptions","onSelect","accountsFunc","App_DepositOptions","onSubmit","balanceFunc","App_WithdrawOptions","App_SearchBalance","searchFunc","App_TransactionsList","logsFunc","src_App_0","SearchBalance","_this10","searching","searched","handleOnChange","onInputChange","debounce","event","_this11","preventDefault","target","Fragment","md","fromWei","fluid","form_default","input_default","label","floatingLabel","onChange","invalid","renderSearchResult","button_default","color","onClick","disabled","_Component4","DepositOptions","_this12","onRefresh","_createClass","key","_this13","placeholder","type","required","variant","size","_inherits","_Component5","WithdrawOptions","_this14","_this15","_Component6","WalletOptions","_this16","nextProps","inline","select_default","name","map","wallet","option_default","TransactionsList","_this17","handleOnClick","success","_this18","isDeposit","isWithdraw","_ref3","_ref3$returnValues","returnValues","user","id","react_lazyload_lib_default","overflow","throttle","height","getColor","sm","lib","text","onCopy","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","react_dom_default","render","document","getElementById","URL","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.998b2069.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './App.css';\nimport 'react-toastify/dist/ReactToastify.min.css'\n\nimport Appbar from 'muicss/lib/react/appbar'\nimport Container from 'muicss/lib/react/container'\nimport Col from 'muicss/lib/react/col'\nimport Row from 'muicss/lib/react/row'\nimport Form from 'muicss/lib/react/form'\nimport Input from 'muicss/lib/react/input'\nimport Button from 'muicss/lib/react/button'\nimport Panel from 'muicss/lib/react/panel'\nimport Select from 'muicss/lib/react/select'\nimport Option from 'muicss/lib/react/option'\n\nimport Web3 from 'web3'\nimport Etherscan from 'etherscan-api'\nimport _ from 'lodash'\nimport {CopyToClipboard} from 'react-copy-to-clipboard'\nimport LazyLoad from 'react-lazyload'\nimport {toast, ToastContainer} from 'react-toastify'\n\nconst TOKEN_API = '97JCGNIUANRCGTMSG3JZMHH2E8FI4FRYM1'\nconst CONTRACT_ADDR = '0x3430d3fc79e35f33bb69c4a0b4b89bc9ee107897'\nconst ethAPI = new Etherscan.init(TOKEN_API, 'kovan', 3000)\nconst web3Api = new Web3(Web3.givenProvider || \"http://localhost:8545\")\n\nexport const getAccountAddr = (callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    return web3Api.eth.getAccounts()\n        .then((res) => { callback(null, res) })\n        .catch((err) => { callback(err) })\n}\n\nexport const getWalletBalance = (accountId, callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    //validation\n    if(!web3Api.utils.isAddress(accountId)){\n        callback(Error('Address is invalid'))\n        return false\n    }\n\n    return ethAPI.account.balance(accountId)\n        .then(({result}) => {\n            callback(null, result)\n        })\n        .catch((err) => {\n            callback(err)\n        })\n}\n\nexport const getContractInstance = (contractAddr, callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    let abiArr, contract\n    return ethAPI.contract.getabi(contractAddr)\n        .then(({result}) => {\n            abiArr = JSON.parse(result)\n            contract = new web3Api.eth.Contract(abiArr, contractAddr)\n            callback(null, contract)\n        })\n        .catch((err) => {\n            console.error(err)\n            callback(err)\n        })\n}\n\nexport const getContractBalance = (instance, accountId, callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    //validation\n    if(!web3Api.utils.isAddress(accountId)){\n        callback(Error('Address is invalid'))\n        return false\n    }\n\n    return instance.methods\n        .balanceOf(accountId)\n        .call({from: accountId})\n        .then((res) => {callback(null, res)})\n        .catch((err) => {callback(err)})\n}\n\nexport const setContractDeposit = (instance, accountId, amount, callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    let wei = web3Api.utils.toWei(amount, 'ether')\n    return instance.methods\n        .deposit()\n        .send({from: accountId, value: wei})\n        .on('confirmation', (confirmationNumber, receipt) => {\n            if(confirmationNumber === 5){ //we'll assume > 5 is legit\n                callback(null, receipt)\n            }\n        })\n        .on('error', (err) => {\n            callback(err)\n            console.error(err)\n        })\n}\n\nexport const setContractWithdraw = (instance, accountId, amount, callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    let wei = web3Api.utils.toWei(amount, 'ether')\n\n    return instance.methods\n        .withdraw(wei)\n        .send({from: accountId})\n        .on('confirmation', (confirmationNumber, receipt) => {\n            if(confirmationNumber === 5){ //we'll assume > 5 is legit\n                callback(null, receipt)\n            }\n        })\n        .on('error', (err) => {\n            callback(err)\n            console.error(err)\n        })\n}\n\nexport const getContractLogs = (instance, callback) => {\n    if(!Web3.givenProvider) { callback(Error('Not Connected')); return}\n    let logs = []\n    return instance\n        .getPastEvents(\"allEvents\", {\n            fromBlock: 'earliest',\n            topics: [['0x884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a9424364', '0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c']] //TODO: make more dynamic so we can set these via a provider or wrapper component\n        })\n        .then((res) => {\n            logs = _.sortBy(res, ['blockNumber']).reverse()\n            callback(null, logs)\n        })\n        .catch((err) => {callback(err)})\n}\n\nclass App extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            hasError: false\n        }\n    }\n\n    componentDidCatch(error) {\n        this.setState({ hasError: true, errMessage: error });\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                {this.state.hasError ? <Panel>{this.state.errMessage}</Panel> : null}\n                <ToastContainer />\n                <Dashboard />\n            </div>\n        );\n    }\n}\n\nclass Dashboard extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            vaultAddr: CONTRACT_ADDR,\n            availableWallets: [],\n            walletAddr: undefined,\n            walletBalance: 0,\n            vaultBalance: 0,\n            hasError: false,\n            isInit: false,\n            logs: [],\n            updating: false,\n            balanceChange: false\n        }\n\n        this.handleWalletChange = this.handleWalletChange.bind(this)\n        this.performVaultDeposit = this.performVaultDeposit.bind(this)\n        this.performVaultWithdraw = this.performVaultWithdraw.bind(this)\n        this.performSearch = this.performSearch.bind(this)\n        this.performGetLogs = this.performGetLogs.bind(this)\n        this.refreshAccountsList = this.refreshAccountsList.bind(this)\n        this.handleWalletChange = this.handleWalletChange.bind(this)\n        this.refreshWalletBalance = this.refreshWalletBalance.bind(this)\n        this.refreshVaultBalance = this.refreshVaultBalance.bind(this)\n        this.contractInstance = false\n    }\n\n    componentDidCatch(error) {\n        this.setState({ hasError: true, errMessage: error });\n    }\n\n    componentDidMount(){\n        getContractInstance(this.state.vaultAddr, (err, instance) => {\n            if(err){\n                this.setState({isInit: false, hasError: true, errMessage: err.toString()})\n                return\n            }\n            this.contractInstance = instance\n            this.setState({isInit: true})\n        })\n    }\n\n    componentWillUnmount(){\n        this.contractInstance = null\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(!_.isEqual(prevState.walletAddr, this.state.walletAddr) && this.state.walletAddr){\n            this.refreshWalletBalance()\n            this.refreshVaultBalance()\n        } else if(!_.isEqual(prevState.balanceChange, this.state.balanceChange) && this.state.balanceChange && !this.state.updating){\n            //user action of a deposit/withdraw, so balance check and update logs as well\n            this.refreshWalletBalance()\n            this.refreshVaultBalance()\n            this.performGetLogs()\n            this.setState({balanceChange: false})\n        }\n    }\n\n    handleWalletChange(walletId){\n        this.setState({walletAddr: walletId})\n    }\n\n    performVaultWithdraw(rawAmount){\n        const {walletAddr} = this.state\n        let amount = _.toString(rawAmount)\n        this.setState({updating: true}, () =>\n            setContractWithdraw(this.contractInstance, walletAddr, amount, (err, res) => {\n                if(err){\n                    toast.error(\"Error Withdrawing!\")\n                    console.error(err)\n                }\n                this.setState({updating: false, balanceChange: true})\n\n            })\n        )\n    }\n\n    performVaultDeposit(rawAmount){\n        const {walletAddr} = this.state\n        this.setState({updating: true}, () =>\n            setContractDeposit(this.contractInstance, walletAddr, rawAmount, (err, res) => {\n                if(err){\n                    toast.error(\"Error Depositing!\")\n                    console.error(err)\n                }\n                this.setState({updating: false, balanceChange: true})\n            })\n        )\n    }\n\n    refreshAccountsList(){\n\n        this.setState({updating: true}, () => {\n            return getAccountAddr ((err, accounts) => {\n                let hasAccounts = accounts && accounts.length > 0\n                let accts = hasAccounts ? accounts : []\n                if(err){\n                    toast.error(\"Error Refreshing Accounts!\")\n                    console.error(err)\n                    return\n                }\n                this.setState({\n                    walletAddr: _.head(accounts),\n                    availableWallets: accts,\n                    updating: false\n                })\n            })\n        })\n    }\n\n    refreshWalletBalance(){\n        const {walletAddr} = this.state\n\n        this.setState({updating: true}, () => {\n            return getWalletBalance (walletAddr, (err, balance) => {\n                if(err){\n                    toast.error(\"Error Refreshing Wallet Balance!\")\n                    console.error(err)\n                }\n                this.setState({walletAddr, walletBalance: balance || -1, updating: false})\n            })\n        })\n    }\n\n    refreshVaultBalance(){\n        const {walletAddr, vaultAddr} = this.state\n\n        this.setState({updating: true}, () => {\n            return getContractBalance (this.contractInstance,walletAddr, (err, balance) => {\n                if(err){\n                    toast.error(\"Error Refreshing Vault Balance!\")\n                    console.error(err)\n                }\n                this.setState({vaultAddr, walletAddr, vaultBalance: balance || 0, updating: false})\n            })\n        })\n    }\n\n    performSearch(address, callback){\n        return getContractBalance(this.contractInstance, address, callback) //forward back to search component\n    }\n\n    performGetLogs(){\n\n        this.setState({updating: true}, () => {\n            return getContractLogs(this.contractInstance, (err, logs) => {\n                if(err)\n                    this.setState({hasError: true, errMessage: err.toString(), updating:false})\n                else\n                    this.setState({logs, updating:false})\n            })\n        })\n\n    }\n\n    render() {\n        if(this.state.hasError) return <Panel><div className=\"mui--text-danger\"><i className=\"fas fa-exclamation-triangle\" /> {this.state.errMessage}</div></Panel>\n        else if(!this.state.isInit) return <Panel>Starting..</Panel>\n\n        return (\n            <div className={`dashboard ${this.state.updating ? 'api-updating' : ''}`}>\n                <Appbar />\n                <Container>\n                    <Row>\n                        <Col xl=\"8\" xl-offset={2} lg={12}>\n                            <WalletOptions\n                                updating={this.state.updating}\n                                accounts={this.state.availableWallets}\n                                address={this.state.walletAddr}\n                                onSelect={this.handleWalletChange}\n                                accountsFunc={this.refreshAccountsList} />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xl=\"4\" xl-offset={2} lg={6}>\n                            <DepositOptions\n                                updating={this.state.updating}\n                                address={this.state.walletAddr}\n                                balance={this.state.walletBalance}\n                                onSubmit={this.performVaultDeposit}\n                                balanceFunc={this.refreshWalletBalance} />\n                        </Col>\n                        <Col xl=\"4\" lg={6}>\n                            <WithdrawOptions\n                                updating={this.state.updating}\n                                address={this.state.walletAddr}\n                                balance={this.state.vaultBalance}\n                                onSubmit={this.performVaultWithdraw}\n                                balanceFunc={this.refreshVaultBalance} />\n                        </Col>\n                    </Row>\n                </Container>\n                <hr/>\n                <Container>\n                    <Row>\n                        <Col xl=\"8\" xl-offset={2} lg={12}>\n                            <SearchBalance searchFunc={this.performSearch}/>\n                        </Col>\n                    </Row>\n                </Container>\n                <hr/>\n                <Container>\n                    <Row>\n                        <Col xl=\"8\" xl-offset={2} lg={12}>\n                            <TransactionsList updating={this.state.updating} logs={this.state.logs} logsFunc={this.performGetLogs}/>\n                        </Col>\n                    </Row>\n                </Container>\n                <ToastContainer />\n            </div>\n        );\n    }\n}\n\nexport default App;\n\nclass SearchBalance extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            address: false,\n            balance: false,\n            searching: false,\n            searched: false,\n            hasError: false\n        }\n\n        this.onSubmit = this.onSubmit.bind(this)\n        this.handleOnChange = this.handleOnChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onInputChange = _.debounce(this.onInputChange,1000);\n    }\n\n    onSubmit(event){\n        event.preventDefault()\n        if(this.state.searching) return false\n\n        this.setState({searched:false, searching: true}, () => {\n            this.props.searchFunc(this.state.address, (err, balance) => {\n                if(err){\n                    this.setState({searched: false, searching: false, hasError: true, errMessage: err.toString()})\n                } else {\n                    this.setState({searched: true, searching: false, balance: balance})\n                }\n            })\n        })\n    }\n\n    onInputChange(event){\n        let value = event.target.value\n        this.setState({address: value, searching: false, searched: false})\n    }\n\n    handleOnChange(event){\n        this.setState({address: event.target.value, searching: false, searched: false, hasError: false, errMessage: ''})\n    }\n\n    renderSearchResult(){\n        if(this.state.hasError) return <div className=\"mui--text-danger mui--text-caption\">{this.state.errMessage}</div>\n        if(this.state.searching) return <Panel>Searching..</Panel>\n        if(!this.state.searched) return null\n\n        return(<React.Fragment>\n                <Container>\n                    <Row>\n                        <Col md={12}>\n                            <Panel>\n                                <div>Address: {this.state.address}</div>\n                                <div>\n                                    Vault Balance: {web3Api.utils.fromWei(`${this.state.balance}`)} ETH</div>\n                            </Panel>\n                        </Col>\n                    </Row>\n                </Container>\n            </React.Fragment>\n        )\n    }\n\n\n    render() {\n        return (\n            <Panel className={'optionsPanel'}>\n                <div className={'icon'}><i className=\"fas fa-search\" /></div>\n                <div className=\"mui--text-headline\">Find Wallet Balance</div>\n                <Container fluid={true}>\n                    <Row>\n                        <Col md={12}>\n                            <Form onSubmit={this.onSubmit}>\n                                <Input label={'Enter a wallet address'} floatingLabel={true} onChange={this.handleOnChange} invalid={this.state.invalid}/>\n                                {this.renderSearchResult()}\n                                <div className={'actions'}>\n                                    <Button className={\"searchButton\"} color={\"primary\"} onClick={this.onSubmit} disabled={this.state.searching || this.state.searched}>Get Balance</Button>\n                                </div>\n                            </Form>\n                        </Col>\n                    </Row>\n                </Container>\n            </Panel>\n        )\n    }\n}\nexport class DepositOptions extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            value: 0,\n            hasError: false,\n            errMessage: ''\n        }\n\n        this.onSubmit = this.onSubmit.bind(this)\n        this.onChange = this.onChange.bind(this)\n        this.onRefresh = this.onRefresh.bind(this)\n    }\n\n    onChange(event){\n        this.setState({value: event.target.value, hasError: false, errMessage: false})\n    }\n\n    onRefresh(event){\n        event.preventDefault()\n        this.props.balanceFunc(this.props.account)\n    }\n    onSubmit(event){\n        event.preventDefault()\n        if(this.props.updating) return false\n        let amount\n        let balance = web3Api.utils.fromWei(`${this.props.balance}`) || 0\n        if(!this.state.value || this.state.value <= 0){\n            this.setState({hasError: true, errMessage: 'Value cannot be 0 or negative'})\n            return console.error('Value cannot be 0 or negative')\n        } else if(this.state.value > balance){\n            this.setState({hasError: true, errMessage: 'Value over max balance'})\n            return console.error('Value over max balance')\n        }\n\n        amount = _.toString(this.state.value)\n        if(!amount){\n            this.setState({hasError: true, errMessage: 'Invalid value'})\n            return console.error('Value over max balance')\n        }\n\n        this.setState({hasError: false, errMessage: ''}, () => {\n            this.props.onSubmit(amount)\n        })\n    }\n\n    render() {\n        if(!this.props.address) return null\n        let balance = web3Api.utils.fromWei(`${this.props.balance}`) || 0\n        return (\n            <Panel className={'optionsPanel'}>\n                <div className={'icon'}><i className=\"fas fa-arrow-circle-down positiveColor\" /></div>\n                <div className=\"mui--text-headline\">Deposit To Vault</div>\n                <Form onSubmit={this.onSubmit}>\n                    <Input placeholder={\"Amount\"} type={\"number\"} value={this.state.value} onChange={this.onChange} invalid={this.state.hasError} required/>\n                    {this.state.hasError && <div className=\"mui--text-danger mui--text-caption\">{this.state.errMessage}</div>}\n                    <div className=\"mui--text-caption balance\">\n                        Wallet Balance: {balance} ETH\n                        <Button variant={\"flat\"} size={\"small\"} onClick={this.onRefresh} disabled={this.props.updating}><i className=\"fas fa-sync\" /></Button></div>\n                    <div className={'actions'}>\n                        <Button color={\"primary\"} disabled={this.props.balance <= 0 || this.props.updating} onClick={this.onSubmit} > Deposit</Button>\n                    </div>\n                </Form>\n            </Panel>\n        );\n    }\n}\n\nexport class WithdrawOptions extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            value: 0,\n            invalid: false\n        }\n\n        this.onSubmit = this.onSubmit.bind(this)\n        this.onChange = this.onChange.bind(this)\n        this.onRefresh = this.onRefresh.bind(this)\n    }\n\n    onChange(event){\n        this.setState({value: event.target.value, invalid: false})\n    }\n\n    onRefresh(event){\n        event.preventDefault()\n        this.props.balanceFunc(this.props.account)\n    }\n\n    onSubmit(event){\n        event.preventDefault()\n        if(this.props.updating) return false\n\n        let balance = web3Api.utils.fromWei(`${this.props.balance}`) || 0\n\n        if(!this.state.value || this.state.value <= 0){\n            this.setState({invalid: 'Value cannot be 0 or negative'})\n            return console.error('Value cannot be 0 or negative')\n        } else if(this.state.value > balance){\n            this.setState({invalid: 'Value over max balance'})\n            return console.error('Value over max balance')\n        }\n        this.setState({invalid: false}, () => {\n            this.props.onSubmit(this.state.value)\n        })\n    }\n    render() {\n        if(!this.props.address) return null\n        let balance = web3Api.utils.fromWei(`${this.props.balance}`) || 0\n        return (\n            <Panel className={'optionsPanel'}>\n                <div className={'icon'}><i className=\"fas fa-arrow-circle-up negativeColor\" /></div>\n                <div className=\"mui--text-headline\">Withdraw From Vault</div>\n                <Form onSubmit={this.onSubmit}>\n                    <Input placeholder={\"Amount\"} type={\"number\"} value={this.state.value} onChange={this.onChange} invalid={this.state.invalid} required/>\n                    {this.state.invalid && <div className=\"mui--text-danger mui--text-caption\">{this.state.invalid}</div>}\n                    <div className=\"mui--text-caption balance\">\n                        Vault Balance: {balance} ETH\n                        <Button variant={\"flat\"} size={\"small\"} onClick={this.onRefresh} disabled={this.props.updating}><i className=\"fas fa-sync\" /></Button>\n                    </div>\n                    <div className={'actions'}>\n                        <Button color={\"primary\"} disabled={this.props.balance <= 0 || this.props.updating} onClick={this.onSubmit} > Withdraw</Button>\n                    </div>\n                </Form>\n            </Panel>\n        );\n    }\n}\n\nexport class WalletOptions extends Component {\n    constructor(props){\n        super(props)\n        this.onSelect = this.onSelect.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    shouldComponentUpdate(nextProps){\n        if(!_.isEqual(nextProps.accounts, this.props.accounts))\n            return true\n        else if(!_.isEqual(nextProps.address, this.props.address) && this.props.address)\n            return true\n        else if(!_.isEqual(nextProps.updating, this.props.updating))\n            return true\n        return false\n    }\n\n    componentDidMount(){\n       this.props.accountsFunc()\n    }\n\n    onSubmit(event){\n        event.preventDefault()\n        if(this.props.updating) return false\n        this.props.accountsFunc()\n    }\n\n    onSelect(event){\n        if(this.props.onSelect)\n            this.props.onSelect(event.target.value)\n    }\n\n    render() {\n        return (\n            <Panel className={'optionsPanel'}>\n                <div className={'icon'}><i className=\"fas fa-wallet\" /></div>\n                <div className=\"mui--text-headline\">Selected Wallet</div>\n                <Form inline={true} onSubmit={this.onSubmit}>\n                    <Select name=\"wallet\" value={this.props.address} onChange={this.onSelect} disabled={this.props.updating}>\n                        {this.props.accounts.map(wallet => <Option key={wallet} value={wallet} label={wallet} />)}\n                    </Select>\n                    <Button variant={\"flat\"} onClick={this.onSubmit} disabled={this.props.updating}><i className=\"fas fa-sync\" /></Button>\n                </Form>\n            </Panel>\n        );\n    }\n}\n\nclass TransactionsList extends Component {\n    constructor(props){\n        super(props)\n\n        this.handleOnClick = this.handleOnClick.bind(this)\n    }\n\n    componentDidMount(){\n       this.props.logsFunc()\n    }\n\n    handleOnClick(event){\n        event.preventDefault()\n        this.props.logsFunc()\n    }\n\n    onCopy(){\n        toast.success('Copied address to clipboard')\n    }\n\n    render() {\n\n        const isDeposit = (type) => _.isEqual(type, 'Deposit')\n        const isWithdraw = (type) => _.isEqual(type, 'Withdraw')\n        const getColor = (event) => isDeposit(event) ? 'positiveColor' : isWithdraw(event) ? 'negativeColor' : ''\n        return (\n            <Panel className={'vaultTransactionsPanel'}>\n                <div className=\"mui--text-headline\">\n                    Recent Vault Transactions\n                    <Button variant={\"flat\"} size={\"small\"} onClick={this.handleOnClick} disabled={this.props.updating}><i className=\"fas fa-sync\" /></Button>\n                </div>\n                <hr />\n                <Container className={\"overflowList\"}>\n                    {this.props.logs.map(({address, returnValues: {amount, user}, event, id}) => {\n                        return(\n                            <LazyLoad key={id} overflow throttle={100} height={72}>\n                                <Panel className={'logMessage ' + getColor(event)}>\n                                    <Row>\n                                        <Col lg={2} sm={2}>{isDeposit(event) ? <i className=\"fas fa-arrow-circle-down positiveColor\" /> : isWithdraw(event) ? <i className=\"fas fa-arrow-circle-up negativeColor\" /> : ''}</Col>\n                                        <Col lg={5} sm={8} className={'middleContent'}>\n                                            <Row>\n                                                <Col lg={12}>{event}</Col>\n                                            </Row>\n                                            <Row>\n                                                <Col lg={12}>\n                                                    <CopyToClipboard text={user} className={'copy'} onCopy={this.onCopy}>\n                                                        <div>\n                                                            <span>{user ? user : 'n/a'} </span> <i className=\"far fa-copy\" />\n                                                        </div>\n                                                    </CopyToClipboard>\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col lg={5} sm={12} className={'amount'}>{web3Api.utils.fromWei(`${amount}`)} ETH</Col>\n                                    </Row>\n                                </Panel>\n                            </LazyLoad>\n                        )\n                    })}\n                </Container>\n            </Panel>\n        );\n    }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}